<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Electric Power System - UpSat CUBEsat: Eps_safety</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="lg.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Electric Power System - UpSat CUBEsat
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">firmware for the elctric power system of UPSAT-cubesat satellite</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Eps_safety</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_e_p_s__safety__limits.html">EPS_safety_limits</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">safety system limit values.  <a href="struct_e_p_s__safety__limits.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga5dddaf23079a7dca9a9c4f4439926cf3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__eps__safety.html#ga5dddaf23079a7dca9a9c4f4439926cf3">LIMIT_BATTERY_VOLTAGE_LOW_DEFAULT</a>&#160;&#160;&#160;((uint32_t) 1694)</td></tr>
<tr class="separator:ga5dddaf23079a7dca9a9c4f4439926cf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad02e2ee8c31f47248226e2096de49820"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__eps__safety.html#gad02e2ee8c31f47248226e2096de49820">LIMIT_BATTERY_VOLTAGE_HIGH_DEFAULT</a>&#160;&#160;&#160;((uint32_t) 2854)</td></tr>
<tr class="separator:gad02e2ee8c31f47248226e2096de49820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8bf211e2280e0f8098f3b6c23a750b12"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__eps__safety.html#ga8bf211e2280e0f8098f3b6c23a750b12">LIMIT_BATTERY_VOLTAGE_CRITICAL_DEFAULT</a>&#160;&#160;&#160;((uint32_t) 1895)</td></tr>
<tr class="separator:ga8bf211e2280e0f8098f3b6c23a750b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a5e7b24738a256e56f93da19e732bba"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1a5e7b24738a256e56f93da19e732bba"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LIMIT_BATTERY_TEMPERATURE_LOW_DEFAULT</b>&#160;&#160;&#160;((uint32_t) 5)</td></tr>
<tr class="separator:ga1a5e7b24738a256e56f93da19e732bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b0c4dfb6628ab3e7fbb0d87493c4c7d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__eps__safety.html#ga4b0c4dfb6628ab3e7fbb0d87493c4c7d">LIMIT_BATTERY_TEMPERATURE_HIGH_DEFAULT</a>&#160;&#160;&#160;((uint32_t) 55)</td></tr>
<tr class="separator:ga4b0c4dfb6628ab3e7fbb0d87493c4c7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga39c4acaac6d5e9818c1570ca02c2e015"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__softerror.html#ga82875cd4cc1b94ab7e638961c1b79e08">EPS_soft_error_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__eps__safety.html#ga39c4acaac6d5e9818c1570ca02c2e015">EPS_load_safety_limits_from_memory</a> (<a class="el" href="struct_e_p_s__safety__limits.html">EPS_safety_limits</a> *limits)</td></tr>
<tr class="memdesc:ga39c4acaac6d5e9818c1570ca02c2e015"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to write to memory the defined memory limits to the defined limits memory addresses. Load limits from memory at startup. this is done so if needed to change them for safety issues, then the values wont be again problematic on reset and startup.  <a href="#ga39c4acaac6d5e9818c1570ca02c2e015">More...</a><br/></td></tr>
<tr class="separator:ga39c4acaac6d5e9818c1570ca02c2e015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2867775c8dee462ce7a20867e8582df0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__softerror.html#ga82875cd4cc1b94ab7e638961c1b79e08">EPS_soft_error_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__eps__safety.html#ga2867775c8dee462ce7a20867e8582df0">EPS_perform_safety_checks</a> (<a class="el" href="struct_e_p_s___state.html">EPS_State</a> *state, <a class="el" href="struct_e_p_s__safety__limits.html">EPS_safety_limits</a> *limits)</td></tr>
<tr class="memdesc:ga2867775c8dee462ce7a20867e8582df0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform safety checks of the satelite eps for the current state. Protections:  <a href="#ga2867775c8dee462ce7a20867e8582df0">More...</a><br/></td></tr>
<tr class="separator:ga2867775c8dee462ce7a20867e8582df0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga4b0c4dfb6628ab3e7fbb0d87493c4c7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LIMIT_BATTERY_TEMPERATURE_HIGH_DEFAULT&#160;&#160;&#160;((uint32_t) 55)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>55 Celcius degree </p>

</div>
</div>
<a class="anchor" id="ga8bf211e2280e0f8098f3b6c23a750b12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LIMIT_BATTERY_VOLTAGE_CRITICAL_DEFAULT&#160;&#160;&#160;((uint32_t) 1895)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>8.5Volt </p>

</div>
</div>
<a class="anchor" id="gad02e2ee8c31f47248226e2096de49820"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LIMIT_BATTERY_VOLTAGE_HIGH_DEFAULT&#160;&#160;&#160;((uint32_t) 2854)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>12.8Volt X 222,93651 </p>

</div>
</div>
<a class="anchor" id="ga5dddaf23079a7dca9a9c4f4439926cf3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LIMIT_BATTERY_VOLTAGE_LOW_DEFAULT&#160;&#160;&#160;((uint32_t) 1694)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>7.6Volt X 222,93651 </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga39c4acaac6d5e9818c1570ca02c2e015"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__softerror.html#ga82875cd4cc1b94ab7e638961c1b79e08">EPS_soft_error_status</a> EPS_load_safety_limits_from_memory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_e_p_s__safety__limits.html">EPS_safety_limits</a> *&#160;</td>
          <td class="paramname"><em>limits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to write to memory the defined memory limits to the defined limits memory addresses. Load limits from memory at startup. this is done so if needed to change them for safety issues, then the values wont be again problematic on reset and startup. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">limits</td><td>pointer to the eps safety limits structure containing threshold values for safety protection mechanisms.* </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Error</td><td>status for handling and debugging. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga2867775c8dee462ce7a20867e8582df0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__softerror.html#ga82875cd4cc1b94ab7e638961c1b79e08">EPS_soft_error_status</a> EPS_perform_safety_checks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_e_p_s___state.html">EPS_State</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_e_p_s__safety__limits.html">EPS_safety_limits</a> *&#160;</td>
          <td class="paramname"><em>limits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform safety checks of the satelite eps for the current state. Protections: </p>
<ul>
<li>Overvoltage: solar panels current output is shut down.</li>
<li>Undervoltage: if not in normal operating voltage, the eps takes action -low bat mode: battery is about to be depleted. All subsystems are shut down until the satelite batterypack reaches nominal voltage. -critical mode: non critical loads (adcs,su) are explicitly shutdown - ideally a signal to obc would be nice. Still we can know about this in the extended health response.</li>
</ul>
<p>Overtemperature: explicitly turn off heaters - maybe consider shutting down other subsystems since batteries are heated by regulators thermal vias.</p>
<ul>
<li>Undertemperature: Turn on heaters protection system. The heater protection has a +-1 celsius degree threshold margin to avoid redundant switching.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>pointer to the eps state structure containing central info of the EPS subsystem. </td></tr>
    <tr><td class="paramname">limits</td><td>pointer to the eps safety limits structure containing threshold values for safety protection mechanisms.* </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Error</td><td>status for handling and debugging. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 1 2016 19:15:28 for Electric Power System - UpSat CUBEsat by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
